var y=Object.defineProperty;var m=(i,t,e)=>t in i?y(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var h=(i,t,e)=>(m(i,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();const d=(i,t)=>Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2)),g=(i,t)=>{const e={x:t.x-i.x,y:t.y-i.y};return Math.atan2(e.y,e.x)*(180/Math.PI)},w=(i,t,e,n)=>({x:i.x+t*Math.cos(-e*Math.PI/180)*n,y:i.y-t*Math.sin(-e*Math.PI/180)*n});class x{constructor(t,e){h(this,"fillStyle","#ffffff");this.ctx=t,this.data=e}animate(t,e){this.white(),this.pupil(t),(o==null?void 0:o.clicked)&&d(this.data,o)<=this.data.r&&(console.log("\u{1F4A9} ~ file: Eye.ts ~ line 12 ~ Eye ~ animate ~ clickEvent",o),this.fillStyle="#ff0000",M(),p(e),console.log("\u{1F4A9} ~ file: Eye.ts ~ line 14 ~ Eye ~ animate ~ clickEvent",o))}white(){this.ctx.beginPath(),this.ctx.fillStyle=this.fillStyle,this.ctx.arc(this.data.x,this.data.y,this.data.r,0,Math.PI*2),this.ctx.fill()}pupil(t){const n=d(this.data,t)<=this.data.r*.5?t:this.getAngleCoords(this.data,t);this.ctx.beginPath(),this.ctx.fillStyle="#000000",this.ctx.arc(n.x,n.y,this.data.r/5,0,Math.PI*2),this.ctx.fill()}getAngleCoords(t,e){const n=g(t,e);return w(t,this.data.r,n,.5)}}const f=[],p=i=>{setTimeout(()=>{f.push(i)},500)};class E{constructor(t,e,n=50){h(this,"eyeSwarm",[]);this.canvas=t,this.ctx=e;for(let s=0;s<n;s++){const a=this.getEyeData();if(!a)break;this.eyeSwarm.push(new x(this.ctx,a))}}animate(t){if(f.length)for(const e of f)this.eyeSwarm[e]=void 0;for(const[e,n]of this.eyeSwarm.entries())n==null||n.animate(t,e)}getEyeData(){let t=this.generateEyeData(),e=0;for(;this.hasOverlap(t);)if(t=this.generateEyeData(),e++,e>1e3)return;return t}generateEyeData(){const t=this.randomise(50,25);return{x:this.randomise(this.canvas.width-t,t),y:this.randomise(this.canvas.height-t,t),r:t}}hasOverlap(t){for(const e of this.eyeSwarm)if(e&&d(e.data,t)<=e.data.r+t.r)return!0;return!1}randomise(t,e=0){return Math.floor(Math.random()*(t-e)+e)}}const r=document.querySelector("canvas");console.log("\u{1F4A9} ~ file: main.ts:6 ~ canvas",r);const l=r==null?void 0:r.getContext("2d"),u={x:0,y:0};let o;const M=()=>o=void 0;addEventListener("mousemove",i=>{u.x=i.clientX,u.y=i.clientY});r==null||r.addEventListener("mousedown",i=>{o={clicked:!0,x:i.clientX,y:i.clientY}});if(r&&l){const i=()=>{(r.height!==innerHeight||r.width!==innerWidth)&&(r.height=window.innerHeight,r.width=window.innerWidth)};let t;const e=()=>{i(),requestAnimationFrame(e),l.fillStyle="#333333",l.fillRect(0,0,r.width,r.height),t.animate(u)};(()=>{r.height=window.innerHeight,r.width=window.innerWidth,t=new E(r,l,200),e()})()}
